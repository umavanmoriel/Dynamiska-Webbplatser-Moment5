{"mappings":"ICaI,EARJ,IAAM,EAAe,SAAS,cAAc,CAAC,iBAMvC,EAAc,SAAS,cAAc,CAAC,gBAyB5C,eAAe,IACX,GAAM,CAAA,MAAE,CAAK,CAAE,CAAG,MAAM,OAAO,IAAI,CAAC,aAAa,CAAC,UAC5C,CAAA,sBAAE,CAAqB,CAAE,CAAG,MAAM,OAAO,IAAI,CAAC,aAAa,CAAC,UAC5D,EAAY,EAAY,KAAK,CAO7B,CAAA,OAAE,CAAM,CAAE,CAAG,MAAM,EAAM,YAAY,CAL3B,CACZ,UAAA,EACA,OAAQ,CAAC,WAAY,cAAc,AACvC,GAIA,GAAI,EAAO,MAAM,CAAE,CACf,QAAQ,GAAG,CAAC,GACZ,GAAM,CAAA,aAAE,CAAY,CAAE,CAAG,MAAM,OAAO,IAAI,CAAC,aAAa,CAAC,QACnD,EAAS,IAAI,EAEnB,EAAO,OAAO,CAAC,AAAC,IACO,IAAI,EAAsB,CACzC,IAAA,EACA,SAAU,EAAM,QAAQ,CACxB,MAAO,EAAM,WAAW,AAC5B,GACA,EAAO,MAAM,CAAC,EAAM,QAAQ,EAC5B,QAAQ,GAAG,CAAC,EAChB,GAEA,EAAI,SAAS,CAAC,GAEd,OAAO,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,EAAK,OAAQ,WACvC,EAAI,OAAO,GAAK,IAChB,EAAI,OAAO,CAAC,GAEpB,EACJ,MAEI,QAAQ,GAAG,CAAC,aAEpB,CAMA,AA5DA,CAAA,iBACE,GAAM,CAAA,IAAE,CAAG,CAAE,CAAG,MAAM,OAAO,IAAI,CAAC,aAAa,CAAC,QAEhD,EAAM,IAAI,EAAI,SAAS,cAAc,CAAC,OAAQ,CAC5C,OAAQ,CAAE,IAAK,QAAS,IAAK,OAAQ,EACrC,KAAM,EACN,MAAO,0BACT,EAEF,CAAA,IAyDA,EAAa,gBAAgB,CAAC,QAAS","sources":["<anon>","src/map.js"],"sourcesContent":["var $892d7dc6dbc410a5$exports = {};\n/** \r\n * Söker element från DOM med id \"search-button\"\r\n * @type {HTMLButtonElement}\r\n*/ const $892d7dc6dbc410a5$var$searchButton = document.getElementById(\"search-button\");\n/** \r\n * Söker input från DOM med id \"search-input\"\r\n * @type {HTMLInputElement}\r\n*/ const $892d7dc6dbc410a5$var$searchInput = document.getElementById(\"search-input\");\nlet $892d7dc6dbc410a5$var$map;\n/** \r\n * Skapar och initialiserar google karta \r\n * @return {Promise<void>} - returnerar ingenting\r\n*/ async function $892d7dc6dbc410a5$var$initMap() {\n    const { Map: Map } = await google.maps.importLibrary(\"maps\");\n    $892d7dc6dbc410a5$var$map = new Map(document.getElementById(\"map\"), {\n        center: {\n            lat: -34.397,\n            lng: 150.644\n        },\n        zoom: 2,\n        mapId: 'c7ea869d36540ad0fb7af91f'\n    });\n}\n/** \r\n * Söker plats med google karta när man skriver namnet i input fält \r\n * @return {Promise<void>} - uppdaterar kartat och visar plats med markör\r\n*/ async function $892d7dc6dbc410a5$var$findPlaces() {\n    const { Place: Place } = await google.maps.importLibrary(\"places\");\n    const { AdvancedMarkerElement: AdvancedMarkerElement } = await google.maps.importLibrary(\"marker\");\n    const textQuery = $892d7dc6dbc410a5$var$searchInput.value;\n    const request = {\n        textQuery: textQuery,\n        fields: [\n            'location',\n            'displayName'\n        ]\n    };\n    const { places: places } = await Place.searchByText(request);\n    if (places.length) {\n        console.log(places);\n        const { LatLngBounds: LatLngBounds } = await google.maps.importLibrary(\"core\");\n        const bounds = new LatLngBounds();\n        places.forEach((place)=>{\n            const markerView = new AdvancedMarkerElement({\n                map: $892d7dc6dbc410a5$var$map,\n                position: place.location,\n                title: place.displayName\n            });\n            bounds.extend(place.location);\n            console.log(place);\n        });\n        $892d7dc6dbc410a5$var$map.fitBounds(bounds);\n        google.maps.event.addListenerOnce($892d7dc6dbc410a5$var$map, 'idle', function() {\n            if ($892d7dc6dbc410a5$var$map.getZoom() > 15) $892d7dc6dbc410a5$var$map.setZoom(15);\n        });\n    } else console.log('No results');\n}\n/** \r\n * Startar google karta när sidan uppdateras \r\n*/ $892d7dc6dbc410a5$var$initMap();\n/** \r\n * Anropar funktionen findPlaces när man klickar på knappen searchButton \r\n*/ $892d7dc6dbc410a5$var$searchButton.addEventListener('click', $892d7dc6dbc410a5$var$findPlaces);\n\n\n//# sourceMappingURL=map.9d104b80.js.map\n","/** \r\n * Söker element från DOM med id \"search-button\"\r\n * @type {HTMLButtonElement}\r\n*/\r\n\r\nconst searchButton = document.getElementById(\"search-button\");\r\n\r\n/** \r\n * Söker input från DOM med id \"search-input\"\r\n * @type {HTMLInputElement}\r\n*/\r\nconst searchInput = document.getElementById(\"search-input\");\r\n\r\nlet map;\r\n\r\n/** \r\n * Skapar och initialiserar google karta \r\n * @return {Promise<void>} - returnerar ingenting\r\n*/\r\n\r\nasync function initMap() {\r\n  const { Map } = await google.maps.importLibrary(\"maps\");\r\n\r\n  map = new Map(document.getElementById(\"map\"), {\r\n    center: { lat: -34.397, lng: 150.644 },\r\n    zoom: 2,\r\n    mapId: 'c7ea869d36540ad0fb7af91f',\r\n  });\r\n\r\n}\r\n\r\n/** \r\n * Söker plats med google karta när man skriver namnet i input fält \r\n * @return {Promise<void>} - uppdaterar kartat och visar plats med markör\r\n*/\r\n\r\nasync function findPlaces() {\r\n    const { Place } = await google.maps.importLibrary(\"places\");\r\n    const { AdvancedMarkerElement } = await google.maps.importLibrary(\"marker\");\r\n    const textQuery = searchInput.value;\r\n    \r\n    const request = {\r\n        textQuery,\r\n        fields: ['location', 'displayName'],\r\n    };\r\n\r\n    const { places } = await Place.searchByText(request);\r\n    \r\n    if (places.length) {\r\n        console.log(places);\r\n        const { LatLngBounds } = await google.maps.importLibrary(\"core\");\r\n        const bounds = new LatLngBounds();\r\n        \r\n        places.forEach((place) => {\r\n            const markerView = new AdvancedMarkerElement({\r\n                map,\r\n                position: place.location,\r\n                title: place.displayName, \r\n            });\r\n            bounds.extend(place.location);\r\n            console.log(place);\r\n        });\r\n        \r\n        map.fitBounds(bounds);\r\n        \r\n        google.maps.event.addListenerOnce(map, 'idle', function() {\r\n            if (map.getZoom() > 15) {\r\n                map.setZoom(15); \r\n            }\r\n        });\r\n    }\r\n    else {\r\n        console.log('No results');\r\n    }\r\n}\r\n\r\n/** \r\n * Startar google karta när sidan uppdateras \r\n*/\r\n\r\ninitMap();\r\n\r\n/** \r\n * Anropar funktionen findPlaces när man klickar på knappen searchButton \r\n*/\r\n\r\nsearchButton.addEventListener('click', findPlaces);"],"names":["$892d7dc6dbc410a5$var$map","$892d7dc6dbc410a5$var$searchButton","document","getElementById","$892d7dc6dbc410a5$var$searchInput","$892d7dc6dbc410a5$var$findPlaces","Place","google","maps","importLibrary","AdvancedMarkerElement","textQuery","value","places","searchByText","fields","length","console","log","LatLngBounds","bounds","forEach","place","map","position","location","title","displayName","extend","fitBounds","event","addListenerOnce","getZoom","setZoom","$892d7dc6dbc410a5$var$initMap","Map","center","lat","lng","zoom","mapId","addEventListener"],"version":3,"file":"map.9d104b80.js.map"}