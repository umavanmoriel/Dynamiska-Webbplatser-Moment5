{"mappings":"ACoBA,eAAe,IACX,GAAI,CACA,IAAM,EAAW,MAAM,MAAM,6CAE7B,OADa,MAAM,EAAS,IAAI,EAEpC,CAAE,MAAO,EAAO,CAEZ,MADA,QAAQ,KAAK,CAAC,eAAgB,GACxB,CACV,CACJ,CASA,eAAe,IACX,GAAI,KA0Ba,EA+BG,EAxDhB,IAAM,EAAS,MAAM,IACrB,QAAQ,GAAG,CAAC,iBAAkB,GAE9B,IAAI,EAAe,AADG,EAAO,MAAM,CAAC,AAAA,GAAQ,AAAc,SAAd,EAAK,IAAI,EACpB,IAAI,CAAC,CAAC,EAAG,IAAM,EAAE,eAAe,CAAG,EAAE,eAAe,EAAE,KAAK,CAAC,EAAG,GAG5F,EAAe,AADG,EAAO,MAAM,CAAC,AAAA,GAAQ,AAAc,YAAd,EAAK,IAAI,EACpB,IAAI,CAAC,CAAC,EAAG,IAAM,EAAE,eAAe,CAAG,EAAE,eAAe,EAAE,KAAK,CAAC,EAAG,GAmBnF,EAjBD,EAoBhB,IAAI,MAFQ,SAAS,cAAc,CAAC,WAAW,UAAU,CAAC,MAE3C,CACX,KAAM,MACN,KAAM,CACF,OAAQ,EAAK,GAAG,CAAC,AAAA,GAAO,EAAI,IAAI,EAChC,SAAU,CACN,CACI,MAAO,uBACP,KAAM,EAAK,GAAG,CAAC,AAAA,GAAO,EAAI,eAAe,CAC7C,EACH,AACL,EACA,QAAS,CACL,WAAY,CAAA,EACZ,OAAQ,CACJ,EAAG,CACC,YAAa,CAAA,CACjB,CACJ,CACJ,CACJ,GAtCI,QAAQ,GAAG,CAAC,GA+CI,EA7CD,EAgDnB,IAAI,MAFQ,SAAS,cAAc,CAAC,cAAc,UAAU,CAAC,MAE9C,CACX,KAAM,MACN,KAAM,CACF,OAAQ,EAAK,GAAG,CAAC,AAAA,GAAO,EAAI,IAAI,EAChC,SAAU,CACN,CACI,MAAO,uBACP,KAAM,EAAK,GAAG,CAAC,AAAA,GAAO,EAAI,eAAe,CAC7C,EACH,AACL,EACA,QAAS,CACL,WAAY,CAAA,EACZ,OAAQ,CACJ,EAAG,CACC,YAAa,CAAA,CACjB,CACJ,CACJ,CACJ,GAlEI,QAAQ,GAAG,CAAC,EAEhB,CAAE,MAAO,EAAO,CACZ,QAAQ,KAAK,CAAC,yBAA0B,EAC5C,CACJ,CAtDA,OAAO,MAAM,CAMb,WACI,GACJ","sources":["<anon>","src/diagram.js"],"sourcesContent":["var $670d00769ae8bdda$exports = {};\n/**\r\n* Initierar applikationen när sidan laddas\r\n*/ window.onload = $670d00769ae8bdda$var$init;\n/**\r\n* Anropar funktionen processData vid initialisering\r\n* @returns {void}\r\n*/ function $670d00769ae8bdda$var$init() {\n    $670d00769ae8bdda$var$processData();\n}\n/**\r\n* Hämtar data för kurser från API\r\n* @async - asynkron funktion som använder await\r\n* @returns {Promise<Array>} returnerar vektor med kurser\r\n* @throws {Error} - visar error om felet uppstår\r\n*/ async function $670d00769ae8bdda$var$getCoursesInfo() {\n    try {\n        const response = await fetch('https://studenter.miun.se/~mallar/dt211g/');\n        const data = await response.json();\n        return data;\n    } catch (error) {\n        console.error('Fetch error:', error);\n        throw error;\n    }\n}\n/**\r\n* Bearbetar data som hämtades med getCoursesInfo()\r\n* @async - asynkton funktion som använder await\r\n* @returns {void}\r\n* @throws {Error} - visar error om felet uppstår\r\n*/ async function $670d00769ae8bdda$var$processData() {\n    try {\n        const result = await $670d00769ae8bdda$var$getCoursesInfo();\n        console.log('Received data:', result);\n        const filterCourses = result.filter((item)=>item.type === \"Kurs\");\n        let coursesArray = filterCourses.sort((a, b)=>b.applicantsTotal - a.applicantsTotal).slice(0, 6);\n        const filterProgram = result.filter((item)=>item.type === \"Program\");\n        let programArray = filterProgram.sort((a, b)=>b.applicantsTotal - a.applicantsTotal).slice(0, 5);\n        $670d00769ae8bdda$var$createChart(coursesArray);\n        console.log(coursesArray);\n        $670d00769ae8bdda$var$createChartPie(programArray);\n        console.log(programArray);\n    } catch (error) {\n        console.error('Error processing data:', error);\n    }\n}\n/**\r\n* Skapar stapeldiagram som visar data som hämtades från API\r\n* @param {Array} data - vektor med objekt med kursnamn osv\r\n* @returns {void}\r\n*/ function $670d00769ae8bdda$var$createChart(data) {\n    const ctx = document.getElementById('diagram').getContext('2d');\n    new Chart(ctx, {\n        type: 'bar',\n        data: {\n            labels: data.map((row)=>row.name),\n            datasets: [\n                {\n                    label: 'Acquisitions by year',\n                    data: data.map((row)=>row.applicantsTotal)\n                }\n            ]\n        },\n        options: {\n            responsive: true,\n            scales: {\n                y: {\n                    beginAtZero: true\n                }\n            }\n        }\n    });\n}\n/**\r\n* Skapar cirkeldiagram som visar data som hämtades från API\r\n* @param {Array} data - vektor med objekt med programnamn osv\r\n* @returns {void}\r\n*/ function $670d00769ae8bdda$var$createChartPie(data) {\n    const ctx = document.getElementById('piediagram').getContext('2d');\n    new Chart(ctx, {\n        type: 'pie',\n        data: {\n            labels: data.map((row)=>row.name),\n            datasets: [\n                {\n                    label: 'Acquisitions by year',\n                    data: data.map((row)=>row.applicantsTotal)\n                }\n            ]\n        },\n        options: {\n            responsive: true,\n            scales: {\n                y: {\n                    beginAtZero: true\n                }\n            }\n        }\n    });\n}\n\n\n//# sourceMappingURL=diagram.1dabada4.js.map\n","/**\r\n* Initierar applikationen när sidan laddas\r\n*/\r\nwindow.onload = init;\r\n\r\n/**\r\n* Anropar funktionen processData vid initialisering\r\n* @returns {void}\r\n*/\r\nfunction init() {\r\n    processData();\r\n}\r\n\r\n\r\n/**\r\n* Hämtar data för kurser från API\r\n* @async - asynkron funktion som använder await\r\n* @returns {Promise<Array>} returnerar vektor med kurser\r\n* @throws {Error} - visar error om felet uppstår\r\n*/\r\nasync function getCoursesInfo() {\r\n    try {\r\n        const response = await fetch('https://studenter.miun.se/~mallar/dt211g/');\r\n        const data = await response.json();\r\n        return data;\r\n    } catch (error) {\r\n        console.error('Fetch error:', error);\r\n        throw error;\r\n    }\r\n};\r\n\r\n/**\r\n* Bearbetar data som hämtades med getCoursesInfo()\r\n* @async - asynkton funktion som använder await\r\n* @returns {void}\r\n* @throws {Error} - visar error om felet uppstår\r\n*/\r\n\r\nasync function processData() {\r\n    try {\r\n        const result = await getCoursesInfo();\r\n        console.log('Received data:', result);\r\n        const filterCourses = result.filter(item => item.type === \"Kurs\");\r\n        let coursesArray = filterCourses.sort((a, b) => b.applicantsTotal - a.applicantsTotal).slice(0, 6);\r\n\r\n        const filterProgram = result.filter(item => item.type === \"Program\");\r\n        let programArray = filterProgram.sort((a, b) => b.applicantsTotal - a.applicantsTotal).slice(0, 5);\r\n\r\n        createChart(coursesArray);\r\n        console.log(coursesArray); \r\n\r\n        createChartPie(programArray);\r\n        console.log(programArray); \r\n\r\n    } catch (error) {\r\n        console.error('Error processing data:', error);\r\n    }\r\n}\r\n\r\n/**\r\n* Skapar stapeldiagram som visar data som hämtades från API\r\n* @param {Array} data - vektor med objekt med kursnamn osv\r\n* @returns {void}\r\n*/\r\n\r\nfunction createChart(data) {\r\n    const ctx = document.getElementById('diagram').getContext('2d');\r\n    \r\n    new Chart(ctx, {\r\n        type: 'bar',\r\n        data: {\r\n            labels: data.map(row => row.name),\r\n            datasets: [\r\n                {\r\n                    label: 'Acquisitions by year',\r\n                    data: data.map(row => row.applicantsTotal)\r\n                }\r\n            ]\r\n        },\r\n        options: {\r\n            responsive: true,\r\n            scales: {\r\n                y: {\r\n                    beginAtZero: true\r\n                }\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\n/**\r\n* Skapar cirkeldiagram som visar data som hämtades från API\r\n* @param {Array} data - vektor med objekt med programnamn osv\r\n* @returns {void}\r\n*/\r\n\r\nfunction createChartPie(data) {\r\n    const ctx = document.getElementById('piediagram').getContext('2d');\r\n    \r\n    new Chart(ctx, {\r\n        type: 'pie',\r\n        data: {\r\n            labels: data.map(row => row.name),\r\n            datasets: [\r\n                {\r\n                    label: 'Acquisitions by year',\r\n                    data: data.map(row => row.applicantsTotal)\r\n                }\r\n            ]\r\n        },\r\n        options: {\r\n            responsive: true,\r\n            scales: {\r\n                y: {\r\n                    beginAtZero: true\r\n                }\r\n            }\r\n        }\r\n    });\r\n}"],"names":["$670d00769ae8bdda$var$getCoursesInfo","response","fetch","json","error","console","$670d00769ae8bdda$var$processData","data","result","log","coursesArray","filterCourses","filter","item","type","sort","a","b","applicantsTotal","slice","programArray","filterProgram","Chart","document","getElementById","getContext","labels","map","row","name","datasets","label","options","responsive","scales","y","beginAtZero","window","onload"],"version":3,"file":"diagram.1dabada4.js.map"}